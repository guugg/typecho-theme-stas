<?php
if (!defined('__TYPECHO_ROOT_DIR__')) exit;
 $this->need('component/header.php');
 ?>


<div class="card mt-5">
        <!--判断-->
        <?php if ($this->fields->topping == 'image') :  ?>
            <!-- 图像 -->
                <img src="<?php $this->fields->thumbnail(); ?>" class="img-fluid" alt="Responsive image">
        <?php  endif; if  ($this->fields->topping == 'gallery') : ?>
            <!-- 相册 -->
<div style="width: auto;">
    <div class="swiper-container">
        <div class="swiper-wrapper">
                <?php
                    $pattern = '/\<img.*?src\=\"(.*?)\"[^>]*>/i';
                    $replacement = '<div class="swiper-slide"><img  class="img-fluid" alt="Responsive image" src="$1" alt="'.$this->title.'"></div>';
                    $thumbnail = preg_replace($pattern, $replacement, $this->fields->thumbnail);
                    echo $thumbnail;
                ?>     
        </div>
    </div>
</div>    

            
        <?php  endif; if  ($this->fields->topping == 'audio') : ?>
            <!-- 音乐 -->
            <audio controls class="embed-responsive-item" style="width: 100%;"> 
            <source src="<?php $this->fields->thumbnail(); ?>"> 
            </audio> 

        <?php  endif; if  ($this->fields->topping == 'video') : ?>
            <!-- 视频 -->
        <div class="embed-responsive embed-responsive-16by9">
            <video width="320" height="240" controls>
            <source src="<?php $this->fields->thumbnail(); ?>" type="video/mp4">
            </video>
        </div>

        <?php  endif; if  ($this->fields->topping == 'link') : ?>
            <!-- 链接 -->
        <div class="alert-dark links-box">
        <div class="float-left">
            <p class="h4 p-5"><?php $this->title() ?></p>
        </div>
        <div class=" float-right">
            <h4 class="h4 p-5">
                <a href="<?php $this->fields->thumbnail(); ?>" title="前往浏览">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-box-arrow-in-up-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M14.5 3A1.5 1.5 0 0 0 13 1.5H3A1.5 1.5 0 0 0 1.5 3v5a.5.5 0 0 0 1 0V3a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-.5.5H9a.5.5 0 0 0 0 1h4a1.5 1.5 0 0 0 1.5-1.5V3z"/>
                        <path fill-rule="evenodd" d="M4.5 6a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V6.5H5a.5.5 0 0 1-.5-.5z"/>
                        <path fill-rule="evenodd" d="M10.354 5.646a.5.5 0 0 1 0 .708l-8 8a.5.5 0 0 1-.708-.708l8-8a.5.5 0 0 1 .708 0z"/>
                    </svg>
                </a>
            </h4>
        </div>
        </div>
        <?php  endif; if  ($this->fields->topping == 'quote') : ?>
            <!-- 引语 -->
        <div class="quote-box">
            <blockquote class="blockquote">
                <p class="mb-0"><?php $this->fields->thumbnail(); ?></p>
            </blockquote>
        </div>
        <?php endif; ?>
        <!--判断end-->
  <div class="card-header text-center">
    <a class="" href="<?php $this->permalink() ?>" title="<?php $this->title() ?>"><p class="h4"><?php $this->title() ?></p></a>
  </div>
  <div class="card-body text-center post-br">

    <?php $this->content(); ?>
    
  </div>
  <div class="card-footer">
    <div class="float-left">
        <!-- 作者 -->
        <svg t="1596808331034" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3033" width="16" height="16"><path d="M512 146.285714c80.457143 0 146.285714 65.828571 146.285714 146.285715s-65.828571 146.285714-146.285714 146.285714-146.285714-65.828571-146.285714-146.285714 65.828571-146.285714 146.285714-146.285715m0-73.142857C387.657143 73.142857 292.571429 168.228571 292.571429 292.571429s95.085714 219.428571 219.428571 219.428571 219.428571-95.085714 219.428571-219.428571-95.085714-219.428571-219.428571-219.428572zM950.857143 1024h-65.828572c0-204.8-168.228571-373.028571-373.028571-373.028571S138.971429 819.2 138.971429 1024H73.142857c0-241.371429 197.485714-438.857143 438.857143-438.857143s438.857143 197.485714 438.857143 438.857143z" p-id="3034" fill="#cdcdcd"></path></svg>
        <?php $this->author(); ?>&nbsp;
        <!-- 分类 -->
        <svg t="1596808499053" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6165" width="16" height="16"><path d="M362.66666666 106.66666666L234.66666666 106.66666666C164.26666666 106.66666666 106.66666666 164.26666666 106.66666666 234.66666666l0 128c0 70.4 57.6 128 128 128l128 0c70.4 0 128-57.6 128-128L490.66666666 234.66666666C490.66666666 164.26666666 433.06666666 106.66666666 362.66666666 106.66666666zM810.66666666 106.66666666l-128 0C612.26666666 106.66666666 554.66666666 164.26666666 554.66666666 234.66666666l0 128c0 70.4 57.6 128 128 128l128 0c70.4 0 128-57.6 128-128L938.66666666 234.66666666C938.66666666 164.26666666 881.06666666 106.66666666 810.66666666 106.66666666zM362.66666666 554.66666666L234.66666666 554.66666666c-70.4 0-128 57.6-128 128l0 128c0 70.4 57.6 128 128 128l128 0c70.4 0 128-57.6 128-128l0-128C490.66666666 612.26666666 433.06666666 554.66666666 362.66666666 554.66666666zM810.66666666 554.66666666l-128 0c-70.4 0-128 57.6-128 128l0 128c0 70.4 57.6 128 128 128l128 0c70.4 0 128-57.6 128-128l0-128C938.66666666 612.26666666 881.06666666 554.66666666 810.66666666 554.66666666z" fill="#cdcdcd" p-id="6166"></path></svg>
        <?php $this->category(','); ?>&nbsp;
        <!-- 标签 -->
<?php if(  count($this->tags) ): ?> 
         <svg t="1596808563588" class="icon" viewBox="0 0 1194 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8239" width="16" height="16"><path d="M953.426155 606.035313c0 23.722588-8.362639 43.94652-23.039923 60.842464l-308.393639 331.177563a77.909074 77.909074 0 0 1-57.685141 24.746584 74.154419 74.154419 0 0 1-56.661144-24.746584L57.685141 514.814284c-16.810611-16.895944-29.354569-39.423869-40.959863-68.693104A210.516632 210.516632 0 0 1 0 367.273442V86.783711C0 63.061123 8.362639 42.837191 24.149253 25.941247A75.263749 75.263749 0 0 1 80.725064 0H343.038857c22.015927 0 46.165179 5.631981 73.386422 18.005273 26.282579 12.373292 48.298506 27.050576 63.999786 43.94652l450.0465 482.131727c15.701281 18.005273 23.039923 38.399872 23.039923 61.951793z m218.196606-61.951793c15.701281 18.005273 23.039923 38.399872 23.039923 61.951793 0 23.722588-7.338642 43.94652-23.039923 60.842464l-308.393638 332.372225a77.909074 77.909074 0 0 1-57.685141 24.746585c-14.677284 0-27.306576-2.218659-36.693212-9.045304a233.641888 233.641888 0 0 1-33.621221-30.378565l294.740351-317.694941c15.786614-16.895944 23.039923-37.119876 23.039923-60.842464 0-23.637255-7.253309-43.94652-23.039923-61.951793L580.008733 61.951793c-15.701281-18.005273-36.693211-31.573228-63.999786-43.94652A173.908754 173.908754 0 0 0 442.622525 0h141.652861c21.930594 0 46.079846 5.631981 73.386422 18.005273 26.197246 12.373292 48.213173 27.050576 63.999786 43.94652l449.961167 482.131727zM316.585611 316.670944A78.07974 78.07974 0 0 0 341.246863 255.999147a82.175726 82.175726 0 0 0-24.746585-60.586465A82.090393 82.090393 0 0 0 255.999147 170.666098a82.090393 82.090393 0 0 0-60.586465 24.746584A82.175726 82.175726 0 0 0 170.666098 255.999147c0 23.551921 7.85064 43.775854 24.746584 60.586464 16.810611 16.895944 36.94921 24.746584 60.586465 24.746585a82.090393 82.090393 0 0 0 60.586464-24.746585z" p-id="8240" fill="#cdcdcd"></path></svg>
         <?php $this->tags(',&nbsp;'); ?>         
<?php endif; ?>
    </div>
    <div class="float-right">
        <!-- 时间 -->
        <svg t="1596808705774" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17041" width="16" height="16"><path d="M475.451 588.012h73.098a36.234 36.234 0 0 0 36.549-36.627 36.234 36.234 0 0 0-36.55-36.786h-73.097a36.234 36.234 0 0 0-36.549 36.786 36.234 36.234 0 0 0 36.55 36.706z m0 146.984h73.098a36.234 36.234 0 0 0 36.549-36.786 36.234 36.234 0 0 0-36.55-36.706h-73.097a36.234 36.234 0 0 0-36.549 36.706 36.234 36.234 0 0 0 36.55 36.786zM877.49 73.728H731.215V37.022A36.234 36.234 0 0 0 694.745 0.236a36.234 36.234 0 0 0-36.47 36.786v36.706h-292.47V37.022A36.234 36.234 0 0 0 329.254 0.236a36.234 36.234 0 0 0-36.47 36.786v36.706H146.511C66.166 73.728 0.315 139.894 0.315 220.711V808.41c0 80.817 65.772 146.983 146.196 146.983h730.82c80.345 0 146.196-66.166 146.196-146.983V220.71A146.983 146.983 0 0 0 877.41 73.728z m73.098 734.68A73.492 73.492 0 0 1 877.49 881.9H146.511a73.492 73.492 0 0 1-73.098-73.491V367.616H950.43v440.793z m0-514.284H73.492v-73.413c0-40.408 32.925-73.491 73.098-73.491h146.195v36.706a36.234 36.234 0 0 0 36.47 36.785 36.234 36.234 0 0 0 36.55-36.785v-36.628h292.39v36.707a36.234 36.234 0 0 0 36.47 36.785 36.234 36.234 0 0 0 36.55-36.785v-36.707H877.41c40.173 0 73.098 33.084 73.098 73.492v73.413z m-694.35 440.872h73.018a36.234 36.234 0 0 0 36.55-36.786 36.234 36.234 0 0 0-36.55-36.706h-73.019a36.234 36.234 0 0 0-36.549 36.706 36.234 36.234 0 0 0 36.55 36.786z m438.429-146.984h73.098a36.234 36.234 0 0 0 36.549-36.627 36.234 36.234 0 0 0-36.55-36.786h-73.018a36.234 36.234 0 0 0-36.55 36.786 36.234 36.234 0 0 0 36.47 36.706z m-438.43 0h73.02a36.234 36.234 0 0 0 36.548-36.627 36.234 36.234 0 0 0-36.549-36.786h-73.019a36.234 36.234 0 0 0-36.549 36.786 36.234 36.234 0 0 0 36.55 36.706z m438.43 146.984h73.098a36.234 36.234 0 0 0 36.549-36.786 36.234 36.234 0 0 0-36.55-36.706h-73.018a36.234 36.234 0 0 0-36.47 36.706 36.234 36.234 0 0 0 36.47 36.786z" p-id="17042" fill="#cdcdcd"></path></svg>
        <?php $this->date(); ?>&nbsp;
        <!-- 浏览量 -->
        <svg t="1596808803480" class="icon" viewBox="0 0 1755 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="25106" width="16" height="16"><path d="M877.714286 0C392.923429 0 0 512 0 512s392.923429 512 877.714286 512 877.714286-512 877.714285-512-392.923429-512-877.714285-512z m10.386285 914.066286C680.374857 914.066286 512 742.4 512 530.285714 512 318.098286 680.301714 146.285714 888.100571 146.285714s376.100571 171.812571 376.100572 383.926857c0 212.114286-168.228571 383.853714-376.100572 383.853715z m146.285715-365.494857c-69.193143 0-125.293714-57.270857-125.293715-127.926858 0-51.931429 30.281143-96.548571 73.874286-116.736-23.478857-7.314286-48.274286-11.337143-73.874286-11.337142C770.706286 292.571429 658.285714 407.113143 658.285714 548.571429s112.420571 256 250.806857 256 250.806857-114.688 250.806858-256c0-26.185143-3.876571-51.638857-11.117715-75.337143a125.44 125.44 0 0 1-114.395428 75.337143z" p-id="25107" fill="#cdcdcd"></path></svg>
        <?php get_post_view($this); ?>&nbsp;
        <!-- 评论 -->
        <svg t="1596808875335" class="icon" viewBox="0 0 1264 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31423" width="16" height="16"><path d="M456.823396 0c226.122762 0 414.417848 144.624601 450.55894 333.88345l2.288935 13.251733 4.879048 0.120471C1109.049626 353.700815 1264.9382 490.555081 1264.9382 657.888334c0 90.95508-46.501538 177.091348-127.578053 236.302503l-4.939282 3.614109 1.385408 5.84281c4.09599 18.251251 11.68562 44.574013 19.215014 67.162195a40.598493 40.598493 0 0 1-38.972144 53.18764h-0.060235a41.080374 41.080374 0 0 1-28.611697-11.444679c-22.648417-21.74489-48.670003-44.694483-64.813024-57.102925l-3.674344-2.891287-4.577872 1.204703a422.549594 422.549594 0 0 1-111.254326 14.938318c-153.96105 0-285.695328-81.076515-339.485319-195.643775l3.614109 16.143021a521.034068 521.034068 0 0 1-107.941393 11.324208c-49.995176 0-98.66518-6.866807-145.166717-20.479952l-3.73458-1.084232-3.433404 1.927525c-26.081821 14.335966-82.281218 55.898221-121.976183 87.702381a41.321315 41.321315 0 0 1-25.780645 9.095508 42.044136 42.044136 0 0 1-41.682726-42.345312c0-6.143986 1.325173-12.287971 3.915285-17.88984a1176.994878 1176.994878 0 0 0 42.044136-103.363521l2.228701-6.625867-5.541634-4.216461C57.645041 626.987701 0 516.516432 0 400.262588 0 179.560989 204.919988 0 456.823396 0z m443.451192 428.091228c-155.828339 0-282.623335 103.002111-282.623335 229.736871s126.794996 229.797106 282.623335 229.797107c36.863913 0 72.703829-5.662104 106.495749-16.865843a45.236599 45.236599 0 0 1 14.155261-2.288936c5.421164 0 9.999035 0 17.468194 2.891287l9.637624 3.674345 2.831053-9.758095a40.176847 40.176847 0 0 1 19.275248-23.973591c71.679831-43.971661 112.69997-110.83268 112.69997-183.476274 0-126.674525-126.734761-229.736871-282.563099-229.736871zM456.823396 84.630389c-206.004221 0-373.457945 141.552608-373.457945 315.632199 0 98.544709 53.127404 189.74073 145.949774 250.156587 15.962315 10.420681 22.708652 25.419234 21.202774 47.284595l-1.144468 17.468194 15.179258-8.312451c18.612662-10.119506 32.647453-15.058788 43.007899-15.058788 5.722339 0 10.05927 1.445644 15.058788 3.011758a440.74061 440.74061 0 0 0 217.810311 13.071028 261.842207 261.842207 0 0 1-4.818812-49.995177c0-149.804824 124.927706-275.154176 290.574375-304.42846-26.744408-151.913054-182.211336-268.829485-369.361954-268.829485zM980.507811 481.881219c11.68562 0 22.648417 6.324691 30.840398 17.76937 8.191981 11.324209 12.649382 26.443232 12.649382 42.465782 0 30.719928-16.624902 56.018692-38.068617 59.753272l-5.421163 0.481881c-11.68562 0-22.648417-6.324691-30.840398-17.76937a73.18571 73.18571 0 0 1-12.649382-42.465783c0-33.249804 19.516189-60.235152 43.48978-60.235152zM766.191138 481.881219c23.973591 0 43.429545 26.985348 43.429545 60.114682s-19.455954 60.054447-43.369309 60.054447c-23.973591 0-43.429545-26.985348-43.429545-60.054447 0-33.129334 19.455954-60.054447 43.369309-60.054447zM335.208623 219.496895c29.8164 0 54.091167 22.287006 54.091167 49.814471 0 27.467229-24.274766 49.814471-54.091167 49.814471-29.876636 0-54.091167-22.347242-54.091167-49.814471 0-27.467229 24.214531-49.814471 54.091167-49.814471z m290.092494 0c29.8164 0 54.091167 22.287006 54.091167 49.814471 0 27.467229-24.274766 49.814471-54.091167 49.814471s-54.091167-22.347242-54.091167-49.814471c0-27.467229 24.274766-49.814471 54.091167-49.814471z" p-id="31424" fill="#cdcdcd"></path></svg>
        <?php $this->commentsNum('%d'); ?>
    </div>
  </div>
</div>



    <!-- 评论相关 -->
    <?php $this->need('comments.php'); ?>




  <?php $this->need('component/footer.php'); ?>